{
  "metadata": {
    "test": "Hook Placement Comparison",
    "date": "2025-11-05 12:54:27",
    "model": "google/gemma-3-4b-pt",
    "concept": "person",
    "runtime_seconds": 27.881011724472046
  },
  "config": {
    "strengths": [
      -1.0,
      -0.5,
      0.0,
      0.5,
      1.0
    ],
    "prompts": [
      "Tell me about",
      "Describe",
      "What is"
    ],
    "n_samples": 15
  },
  "results": {
    "after_layer": {
      "samples": [
        {
          "strength": -1.0,
          "prompt": "Tell me about",
          "text": "Tell me about the 1.1.1.1.\n\nI'm a 1.1.1.1.\n\nI'm a ",
          "delta": 0.028562113642692566
        },
        {
          "strength": -1.0,
          "prompt": "Describe",
          "text": "Describe the 3-D structure of a <strong><em>DNA </em></strong><strong><em>molecule </em></strong>\n\n<strong><em> </em></strong>\n\n \n\n",
          "delta": 0.039076000452041626
        },
        {
          "strength": -1.0,
          "prompt": "What is",
          "text": "What is the <strong><em>\u201c</em></strong><strong><em>1, 2, 3, 4, 5, 6, 7, ",
          "delta": 0.03443726897239685
        },
        {
          "strength": -0.5,
          "prompt": "Tell me about",
          "text": "Tell me about the 1990s.\n\nI was 11, and I was a 1990s kid.\n\nI was",
          "delta": 0.022228330373764038
        },
        {
          "strength": -0.5,
          "prompt": "Describe",
          "text": "Describe the 3-D structure of a DNA molecule.\n\nWhat is the 3-D structure of a DNA molecule?\n\nWhat is the ",
          "delta": 0.0461721271276474
        },
        {
          "strength": -0.5,
          "prompt": "What is",
          "text": "What is the <strong>best 3-in-1 baby carrier</strong>?\n\nThe <strong>best 3-in-1 baby carrier</strong> is the",
          "delta": 0.04772394895553589
        },
        {
          "strength": 0.0,
          "prompt": "Tell me about",
          "text": "Tell me about your experience with the 2018 Toyota Camry.\n\nI have a 2018 Camry SE. I love it. It'",
          "delta": 0.020094886422157288
        },
        {
          "strength": 0.0,
          "prompt": "Describe",
          "text": "Describe the bug\nWhen using the \"Add to cart\" button on the product page, the cart is not updated.\n\nTo Reproduce\nSteps to",
          "delta": 0.04938434064388275
        },
        {
          "strength": 0.0,
          "prompt": "What is",
          "text": "What is the difference between a 100% cotton and a 100% polyester shirt?\n\nThe difference between a 100%",
          "delta": 0.01641705632209778
        },
        {
          "strength": 0.5,
          "prompt": "Tell me about",
          "text": "Tell me about yourself? Tell me about your experience? Tell me about your strengths? Tell me about your weaknesses? Tell me about your hobbies? Tell me about your",
          "delta": 0.0020387396216392517
        },
        {
          "strength": 0.5,
          "prompt": "Describe",
          "text": "Describe the bug\nWhen using TailwindCSS with ViteJS, TailwindCSS doesn't seem to be able to compile styles correctly.\n\nTo Reproduce\n",
          "delta": 0.030944019556045532
        },
        {
          "strength": 0.5,
          "prompt": "What is",
          "text": "What is your favorite snack? Mine is popcorn! Popcorn is delicious crunchy snack food made from popcorn kernels cooked until puffed up. Popcorn kernels are popped kernels",
          "delta": 0.011183910071849823
        },
        {
          "strength": 1.0,
          "prompt": "Tell me about",
          "text": "Tell me about yourselfTell me about yourselfTell me about yourselfTell me about yourselfTell me about yourselfTell me about yourselfTell me about yourselfTell me about yourselfTell",
          "delta": 0.003927610814571381
        },
        {
          "strength": 1.0,
          "prompt": "Describe",
          "text": "Describe c\u00f3mo puedes usar ecuaciones lineales para resolver problemas relacionados con costos totales totales totales totales totales totales totales totales totales totales totales totales totales totales totales totales totales totales totales",
          "delta": -0.014148074202239513
        },
        {
          "strength": 1.0,
          "prompt": "What is",
          "text": "What is Litecoin Wallet Litecoin Wallet Litecoin Wallet Litecoin Wallet Litecoin Wallet Litecoin Wallet Litecoin Wallet Litecoin Wallet Litecoin Wallet Litecoin Wallet Litecoin Wallet Litecoin Wallet Litecoin Wallet Litecoin Wallet Litecoin Wallet",
          "delta": -0.013049479573965073
        }
      ],
      "metrics": {
        "-1.0": {
          "n_samples": 3,
          "diversity": 1.0,
          "delta_mean": 0.03402512768904368,
          "delta_std": 0.004302158317870542,
          "unique_outputs": 3
        },
        "-0.5": {
          "n_samples": 3,
          "diversity": 1.0,
          "delta_mean": 0.03870813548564911,
          "delta_std": 0.011670190519457762,
          "unique_outputs": 3
        },
        "0.0": {
          "n_samples": 3,
          "diversity": 1.0,
          "delta_mean": 0.028632094462712605,
          "delta_std": 0.01475067003527058,
          "unique_outputs": 3
        },
        "0.5": {
          "n_samples": 3,
          "diversity": 1.0,
          "delta_mean": 0.014722223083178202,
          "delta_std": 0.012062850582019696,
          "unique_outputs": 3
        },
        "1.0": {
          "n_samples": 3,
          "diversity": 1.0,
          "delta_mean": -0.007756647653877735,
          "delta_std": 0.008274182719256408,
          "unique_outputs": 3
        },
        "aggregate": {
          "spearman_rho": -0.7310299322905744,
          "spearman_pval": 0.0019594051507816324,
          "mean_diversity": 1.0
        }
      },
      "sign_symmetry": 0.06093013162414233
    },
    "before_mlp": {
      "samples": [
        {
          "strength": -1.0,
          "prompt": "Tell me about",
          "text": "Tell me about your experience with the new iPhone SE? Did you buy it? Did you upgrade from iPhone 6S? Did you upgrade from iPhone 5S",
          "delta": 0.017272673547267914
        },
        {
          "strength": -1.0,
          "prompt": "Describe",
          "text": "Describe the bug\nWhen using the default configuration for the \"Enable SSL\" option, the SSL certificate is not installed correctly.\n\nTo Reproduce\nSteps",
          "delta": 0.045791275799274445
        },
        {
          "strength": -1.0,
          "prompt": "What is",
          "text": "What is the best way to remove rust stains from concrete? Rust stains are unsightly blemishes on concrete surfaces that can be difficult to remove. Rust stains are caused by",
          "delta": 0.02736346423625946
        },
        {
          "strength": -0.5,
          "prompt": "Tell me about",
          "text": "Tell me about your experience with the new 2017 Honda Civic Si Sedan.\n\nI've been driving the new 2017 Honda Civic",
          "delta": 0.015478730201721191
        },
        {
          "strength": -0.5,
          "prompt": "Describe",
          "text": "Describe the bug\nWhen using the \"Add to cart\" button on the product page, the cart icon does not change to indicate that the product has been",
          "delta": 0.04201392084360123
        },
        {
          "strength": -0.5,
          "prompt": "What is",
          "text": "What is the best way to remove rust from aluminum?\n\n[User 0001]\n\nI have a couple of aluminum wheels that have rust spots",
          "delta": 0.03139607608318329
        },
        {
          "strength": 0.0,
          "prompt": "Tell me about",
          "text": "Tell me about your experience with the 2018 Toyota Camry.\n\nI have a 2018 Camry SE. I love it. It'",
          "delta": 0.020094886422157288
        },
        {
          "strength": 0.0,
          "prompt": "Describe",
          "text": "Describe the bug\nWhen using the \"Add to cart\" button on the product page, the cart is not updated.\n\nTo Reproduce\nSteps to",
          "delta": 0.04938434064388275
        },
        {
          "strength": 0.0,
          "prompt": "What is",
          "text": "What is the difference between a 100% cotton and a 100% polyester shirt?\n\nThe difference between a 100%",
          "delta": 0.01641705632209778
        },
        {
          "strength": 0.5,
          "prompt": "Tell me about",
          "text": "Tell me about the 1990's.\n\n[User 0001]\n\nI'm 15 and I'm just",
          "delta": 0.020605072379112244
        },
        {
          "strength": 0.5,
          "prompt": "Describe",
          "text": "Describe the bug\nWhen I try to use the \"Add to cart\" button, the \"Add to cart\" button is not working.\n\nTo Reprodu",
          "delta": 0.04371637850999832
        },
        {
          "strength": 0.5,
          "prompt": "What is",
          "text": "What is the difference between a 100% and 100%?\n\n[User 0001]\n\nI'm a",
          "delta": 0.021188750863075256
        },
        {
          "strength": 1.0,
          "prompt": "Tell me about",
          "text": "Tell me about the 1990's.\n\n[User 0001]\n\nI'm 13 now, and a ",
          "delta": 0.0232793390750885
        },
        {
          "strength": 1.0,
          "prompt": "Describe",
          "text": "Describe the 3 different types of <strong><em><u>somatic cell nuclear transfer (SCNT) </u></em></strong>\n\n<strong><em><u>1. ",
          "delta": 0.041495323181152344
        },
        {
          "strength": 1.0,
          "prompt": "What is",
          "text": "What is the <strong><em>\u201c10,000-hour rule\u201d </em></strong>and what does it mean for you and the <strong><em>",
          "delta": 0.023364588618278503
        }
      ],
      "metrics": {
        "-1.0": {
          "n_samples": 3,
          "diversity": 1.0,
          "delta_mean": 0.030142471194267273,
          "delta_std": 0.011807337502771454,
          "unique_outputs": 3
        },
        "-0.5": {
          "n_samples": 3,
          "diversity": 1.0,
          "delta_mean": 0.029629575709501903,
          "delta_std": 0.0109047230830771,
          "unique_outputs": 3
        },
        "0.0": {
          "n_samples": 3,
          "diversity": 1.0,
          "delta_mean": 0.028632094462712605,
          "delta_std": 0.01475067003527058,
          "unique_outputs": 3
        },
        "0.5": {
          "n_samples": 3,
          "diversity": 1.0,
          "delta_mean": 0.02850340058406194,
          "delta_std": 0.01075983869688361,
          "unique_outputs": 3
        },
        "1.0": {
          "n_samples": 3,
          "diversity": 1.0,
          "delta_mean": 0.02937975029150645,
          "delta_std": 0.008567074440530849,
          "unique_outputs": 3
        },
        "aggregate": {
          "spearman_rho": 0.01091089451179962,
          "spearman_pval": 0.9692153886494579,
          "mean_diversity": 1.0
        }
      },
      "sign_symmetry": 0.6176498598522611
    }
  },
  "conclusion": {
    "after_layer_symmetry": 0.06093013162414233,
    "before_mlp_symmetry": 0.6176498598522611,
    "symmetry_reduction": -0.5567197282281188,
    "better_placement": "after_layer"
  }
}